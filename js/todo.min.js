function showSuccess(e){$("#successMessage span#message").text(e);$("#successMessage").removeClass("hide");return false}function showError(e){$("#errorMessage span#message").text(e);$("#errorMessage").removeClass("hide");return false}function storeTask(e){var t=localStorage.getItem("toDoTasks");if(t==null){n=[];n.push(e);localStorage.setItem("toDoTasks",JSON.stringify(n))}else{var n=JSON.parse(t);n.push(e);localStorage.setItem("toDoTasks",JSON.stringify(n))}return false}function addTask(e,t){var n=e.priority==2?" list-group-item-danger":e.priority==1?" list-group-item-warning":"";var r=e.complete?" checked":"";if($("#notasks").length){$("#notasks").remove()}$("#tasks").append('<li id="'+e.id+'" class="list-group-item'+n+'">'+e.title+'<label class="pull-right"><input onclick="completeTask('+e.id+');" type="checkbox"'+r+"></label></li>");if(t){storeTask(e)}return false}function submitTask(){var e=$("#newtask").serializeArray();var t={};$.each(e,function(){t[this.name]=this.value||""});t.id=(new Date).getTime();t.complete=false;var n=validateTask(t);if(n===true){addTask(t,true);showSuccess("Task added successfully.")}else{showError(n)}$("#newtask")[0].reset();return false}function validateTask(e){if(e.title===""){return"You need to enter a task title!"}if(e.priority===""){return"You need to select a priortiy!"}return true}function populateTasks(){var e=localStorage.getItem("toDoTasks");if(e==null){$("#tasks").append('<li class="list-group-item" id="notasks">There are currently no tasks.</li>')}else{var t=JSON.parse(e);$.each(t,function(){addTask(this,false)})}return false}function resetTasks(){localStorage.removeItem("toDoTasks");$("#tasks li").remove();populateTasks();showSuccess("The tasks have been reset.");return false}function completeTask(e){var t=localStorage.getItem("toDoTasks");if(t!=null){var n=JSON.parse(t);$.each(n,function(){if(this.id==e){this.complete=this.complete?false:true}});localStorage.setItem("toDoTasks",JSON.stringify(n))}$("#"+e+" input").attr("checked");return false}function sortTasks(e){var t=$("#sort_"+e);e=t.attr("active")?-1:e;if(t.attr("active")){t.removeAttr("active");t.css("font-weight","normal")}else{t.attr("active",true);t.css("font-weight","bold")}$("#tasks li").each(function(){var t=$(this);if(e==-1){t.show()}else if(e==2){if(!t.hasClass("list-group-item-danger")){t.hide()}}else if(e==1){if(!t.hasClass("list-group-item-warning")){t.hide()}}else{if(t.hasClass("list-group-item-danger")||t.hasClass("list-group-item-warning")){t.hide()}}})}$(document).on("ready",function(){$("#newtask").submit(function(e){e.preventDefault(e);submitTask()});populateTasks()})